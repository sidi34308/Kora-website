"use client"; // This directive marks this file as a client component
import Link from 'next/link';
import locations from '../resources/locations';
import React from 'react';
import { formatDuration } from 'date-fns';


const formatDate = (dateString) => {
  const options = { year: 'numeric', month: 'long', day: 'numeric' };
  return new Date(dateString).toLocaleDateString(undefined, options);
};


const Card = ({ data }) => {
  // Find the matching location based on locationId
  const location = locations.find(loc => loc.id == parseInt(data.locationId));
  
  const formattime = (dateString) => {
    const date = new Date(dateString);
    return date.toLocaleString('en-US', {
      hour: 'numeric',
      minute: 'numeric',
      hour12: true,
    });
  };

  return (
    <Link href={`/games/${data.id}`} >
          <div className="bg-white  p-4 flex flex-col  card">
          <div className="relative ">

      {location && (
        <img src={location.image} alt={location.name} className="w-full h-40 object-cover rounded-md" />
      )}
          <div className="rounded-2xl absolute top-0 right-0 p-4   w-1/3 text-white">

            <div className="flex justify-center text-black font-black text-2xl gap-1 items-center relative">
                      <div className="bg-white py-2 px-3 rounded-xl">{data.maxPlayers}</div>
                      <div className="text-[#49919C] text-2xl font-bold absolute bottom-[-2px] z-2 "><svg width="39" height="20" viewBox="0 0 39 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <mask id="path-1-outside-1_75_550" maskUnits="userSpaceOnUse" x="-2" y="-1" width="42" height="22" fill="black">
                          <rect fill="white" x="-2" y="-1" width="42" height="22"/>
                          <path d="M10.752 12.248L13.632 0.952H21.184L15.168 19H6.304L0.288 0.952H7.84L10.752 12.248ZM31.1008 19.224C29.3941 19.224 27.8794 18.9467 26.5568 18.392C25.2554 17.8373 24.2208 17.0693 23.4528 16.088C22.6848 15.1067 22.2474 13.9973 22.1408 12.76H28.9568C29.0421 13.2933 29.2661 13.688 29.6288 13.944C30.0128 14.2 30.4928 14.328 31.0688 14.328C31.4314 14.328 31.7194 14.2533 31.9328 14.104C32.1461 13.9333 32.2528 13.7307 32.2528 13.496C32.2528 13.0907 32.0288 12.8027 31.5808 12.632C31.1328 12.4613 30.3754 12.2693 29.3088 12.056C28.0074 11.8 26.9301 11.5227 26.0768 11.224C25.2448 10.9253 24.5088 10.4133 23.8688 9.688C23.2501 8.96267 22.9408 7.96 22.9408 6.68C22.9408 5.57067 23.2288 4.568 23.8048 3.672C24.4021 2.75467 25.2768 2.04 26.4288 1.528C27.5808 0.994666 28.9781 0.727999 30.6208 0.727999C33.0528 0.727999 34.9514 1.32533 36.3168 2.52C37.7034 3.71467 38.5354 5.272 38.8128 7.192H32.5088C32.4021 6.70133 32.1781 6.328 31.8368 6.072C31.4954 5.79467 31.0368 5.656 30.4608 5.656C30.0981 5.656 29.8208 5.73067 29.6288 5.88C29.4368 6.008 29.3408 6.21067 29.3408 6.488C29.3408 6.85067 29.5648 7.128 30.0128 7.32C30.4608 7.49067 31.1754 7.672 32.1568 7.864C33.4581 8.12 34.5568 8.408 35.4528 8.728C36.3488 9.048 37.1274 9.60267 37.7888 10.392C38.4501 11.16 38.7808 12.2267 38.7808 13.592C38.7808 14.6587 38.4714 15.6187 37.8528 16.472C37.2341 17.3253 36.3381 17.9973 35.1648 18.488C34.0128 18.9787 32.6581 19.224 31.1008 19.224Z"/>
                          </mask>
                          <path d="M10.752 12.248L13.632 0.952H21.184L15.168 19H6.304L0.288 0.952H7.84L10.752 12.248ZM31.1008 19.224C29.3941 19.224 27.8794 18.9467 26.5568 18.392C25.2554 17.8373 24.2208 17.0693 23.4528 16.088C22.6848 15.1067 22.2474 13.9973 22.1408 12.76H28.9568C29.0421 13.2933 29.2661 13.688 29.6288 13.944C30.0128 14.2 30.4928 14.328 31.0688 14.328C31.4314 14.328 31.7194 14.2533 31.9328 14.104C32.1461 13.9333 32.2528 13.7307 32.2528 13.496C32.2528 13.0907 32.0288 12.8027 31.5808 12.632C31.1328 12.4613 30.3754 12.2693 29.3088 12.056C28.0074 11.8 26.9301 11.5227 26.0768 11.224C25.2448 10.9253 24.5088 10.4133 23.8688 9.688C23.2501 8.96267 22.9408 7.96 22.9408 6.68C22.9408 5.57067 23.2288 4.568 23.8048 3.672C24.4021 2.75467 25.2768 2.04 26.4288 1.528C27.5808 0.994666 28.9781 0.727999 30.6208 0.727999C33.0528 0.727999 34.9514 1.32533 36.3168 2.52C37.7034 3.71467 38.5354 5.272 38.8128 7.192H32.5088C32.4021 6.70133 32.1781 6.328 31.8368 6.072C31.4954 5.79467 31.0368 5.656 30.4608 5.656C30.0981 5.656 29.8208 5.73067 29.6288 5.88C29.4368 6.008 29.3408 6.21067 29.3408 6.488C29.3408 6.85067 29.5648 7.128 30.0128 7.32C30.4608 7.49067 31.1754 7.672 32.1568 7.864C33.4581 8.12 34.5568 8.408 35.4528 8.728C36.3488 9.048 37.1274 9.60267 37.7888 10.392C38.4501 11.16 38.7808 12.2267 38.7808 13.592C38.7808 14.6587 38.4714 15.6187 37.8528 16.472C37.2341 17.3253 36.3381 17.9973 35.1648 18.488C34.0128 18.9787 32.6581 19.224 31.1008 19.224Z" fill="#52AAB7"/>
                          <path d="M10.752 12.248L9.78366 12.4976L11.721 12.4951L10.752 12.248ZM13.632 0.952V-0.0480003H12.855L12.663 0.704945L13.632 0.952ZM21.184 0.952L22.1327 1.26823L22.5714 -0.0480003H21.184V0.952ZM15.168 19V20H15.8888L16.1167 19.3162L15.168 19ZM6.304 19L5.35532 19.3162L5.58324 20H6.304V19ZM0.288 0.952V-0.0480003H-1.09943L-0.660683 1.26823L0.288 0.952ZM7.84 0.952L8.80834 0.70237L8.6149 -0.0480003H7.84V0.952ZM11.721 12.4951L14.601 1.19905L12.663 0.704945L9.783 12.0009L11.721 12.4951ZM13.632 1.952H21.184V-0.0480003H13.632V1.952ZM20.2353 0.635772L14.2193 18.6838L16.1167 19.3162L22.1327 1.26823L20.2353 0.635772ZM15.168 18H6.304V20H15.168V18ZM7.25268 18.6838L1.23668 0.635772L-0.660683 1.26823L5.35532 19.3162L7.25268 18.6838ZM0.288 1.952H7.84V-0.0480003H0.288V1.952ZM6.87166 1.20163L9.78366 12.4976L11.7203 11.9984L8.80834 0.70237L6.87166 1.20163ZM26.5568 18.392L26.1646 19.3119L26.17 19.3142L26.5568 18.392ZM22.1408 12.76V11.76H21.0508L21.1444 12.8459L22.1408 12.76ZM28.9568 12.76L29.9442 12.602L29.8095 11.76H28.9568V12.76ZM29.6288 13.944L29.0521 14.761L29.063 14.7687L29.0741 14.776L29.6288 13.944ZM31.9328 14.104L32.5062 14.9232L32.5324 14.9049L32.5574 14.8849L31.9328 14.104ZM29.3088 12.056L29.5049 11.0754L29.5018 11.0748L29.3088 12.056ZM26.0768 11.224L25.7389 12.1652L25.7464 12.1679L26.0768 11.224ZM23.8688 9.688L23.1079 10.3369L23.1134 10.3433L23.1189 10.3496L23.8688 9.688ZM23.8048 3.672L22.9667 3.12632L22.9636 3.13124L23.8048 3.672ZM26.4288 1.528L26.8349 2.44181L26.8419 2.43869L26.8489 2.43547L26.4288 1.528ZM36.3168 2.52L35.6582 3.2726L35.664 3.27761L36.3168 2.52ZM38.8128 7.192V8.192H39.9676L39.8025 7.04904L38.8128 7.192ZM32.5088 7.192L31.5316 7.40443L31.7028 8.192H32.5088V7.192ZM31.8368 6.072L31.2062 6.84811L31.2212 6.86035L31.2368 6.872L31.8368 6.072ZM29.6288 5.88L30.1835 6.71205L30.2139 6.69178L30.2427 6.66935L29.6288 5.88ZM30.0128 7.32L29.6188 8.23914L29.6376 8.2472L29.6568 8.25449L30.0128 7.32ZM32.1568 7.864L32.3498 6.8828L32.3488 6.88261L32.1568 7.864ZM35.4528 8.728L35.1164 9.66974L35.1164 9.66974L35.4528 8.728ZM37.7888 10.392L37.0222 11.0343L37.031 11.0445L37.7888 10.392ZM37.8528 16.472L38.6624 17.059L38.6624 17.059L37.8528 16.472ZM35.1648 18.488L34.7789 17.5654L34.7729 17.568L35.1648 18.488ZM31.1008 18.224C29.5021 18.224 28.1227 17.9643 26.9435 17.4698L26.17 19.3142C27.6361 19.929 29.286 20.224 31.1008 20.224V18.224ZM26.9488 17.4721C25.7815 16.9745 24.8908 16.303 24.2403 15.4717L22.6652 16.7043C23.5507 17.8357 24.7293 18.7001 26.1647 19.3119L26.9488 17.4721ZM24.2403 15.4717C23.5914 14.6426 23.227 13.7174 23.1371 12.6741L21.1444 12.8459C21.2678 14.2772 21.7781 15.5707 22.6652 16.7043L24.2403 15.4717ZM22.1408 13.76H28.9568V11.76H22.1408V13.76ZM27.9693 12.918C28.0873 13.6557 28.423 14.3169 29.0521 14.761L30.2054 13.127C30.1091 13.0591 29.9968 12.931 29.9442 12.602L27.9693 12.918ZM29.0741 14.776C29.6589 15.1659 30.3444 15.328 31.0688 15.328V13.328C30.6411 13.328 30.3666 13.2341 30.1835 13.1119L29.0741 14.776ZM31.0688 15.328C31.5584 15.328 32.0705 15.2282 32.5062 14.9232L31.3593 13.2848C31.3684 13.2784 31.3044 13.328 31.0688 13.328V15.328ZM32.5574 14.8849C32.9643 14.5594 33.2528 14.0863 33.2528 13.496H31.2528C31.2528 13.4552 31.2637 13.4042 31.2878 13.3583C31.3098 13.3166 31.3276 13.3075 31.3081 13.3231L32.5574 14.8849ZM33.2528 13.496C33.2528 13.097 33.1378 12.7011 32.8741 12.3621C32.6196 12.0349 32.2794 11.828 31.9367 11.6975L31.2248 13.5665C31.3301 13.6066 31.3259 13.6291 31.2954 13.5899C31.28 13.5701 31.267 13.5458 31.2592 13.5214C31.2517 13.4983 31.2528 13.4874 31.2528 13.496H33.2528ZM31.9367 11.6975C31.4042 11.4946 30.5753 11.2895 29.5049 11.0754L29.1126 13.0366C30.1756 13.2492 30.8613 13.428 31.2248 13.5665L31.9367 11.6975ZM29.5018 11.0748C28.2277 10.8242 27.2002 10.5577 26.4071 10.2801L25.7464 12.1679C26.66 12.4876 27.7872 12.7758 29.1157 13.0372L29.5018 11.0748ZM26.4146 10.2828C25.756 10.0464 25.1578 9.63749 24.6186 9.02638L23.1189 10.3496C23.8597 11.1892 24.7335 11.8043 25.7389 12.1652L26.4146 10.2828ZM24.6296 9.03905C24.2113 8.54865 23.9408 7.8042 23.9408 6.68H21.9408C21.9408 8.1158 22.2889 9.37669 23.1079 10.3369L24.6296 9.03905ZM23.9408 6.68C23.9408 5.75405 24.1781 4.94056 24.6459 4.21276L22.9636 3.13124C22.2794 4.19544 21.9408 5.38729 21.9408 6.68H23.9408ZM24.6427 4.21767C25.1194 3.48562 25.8319 2.88756 26.8349 2.44181L26.0226 0.614188C24.7216 1.19244 23.6847 2.02372 22.9668 3.12633L24.6427 4.21767ZM26.8489 2.43547C27.8365 1.97824 29.0822 1.728 30.6208 1.728V-0.272001C28.874 -0.272001 27.325 0.0110938 26.0086 0.620533L26.8489 2.43547ZM30.6208 1.728C32.8939 1.728 34.5295 2.28489 35.6582 3.27258L36.9753 1.76742C35.3734 0.365775 33.2116 -0.272001 30.6208 -0.272001V1.728ZM35.664 3.27761C36.8563 4.3048 37.5779 5.63824 37.823 7.33496L39.8025 7.04904C39.4929 4.90575 38.5505 3.12453 36.9695 1.76239L35.664 3.27761ZM38.8128 6.192H32.5088V8.192H38.8128V6.192ZM33.4859 6.97957C33.3377 6.29786 33.0034 5.69696 32.4367 5.272L31.2368 6.872C31.3528 6.95904 31.4664 7.1048 31.5316 7.40443L33.4859 6.97957ZM32.4673 5.29589C31.899 4.83414 31.1946 4.656 30.4608 4.656V6.656C30.8789 6.656 31.0918 6.75519 31.2062 6.84811L32.4673 5.29589ZM30.4608 4.656C29.9802 4.656 29.45 4.75214 29.0148 5.09065L30.2427 6.66935C30.2164 6.6898 30.2077 6.6865 30.2407 6.67761C30.2758 6.66816 30.3454 6.656 30.4608 6.656V4.656ZM29.0741 5.04795C28.545 5.40064 28.3408 5.95381 28.3408 6.488H30.3408C30.3408 6.46316 30.3451 6.49578 30.3165 6.55609C30.2846 6.62346 30.2337 6.67857 30.1835 6.71205L29.0741 5.04795ZM28.3408 6.488C28.3408 6.8937 28.4724 7.27645 28.7308 7.59634C28.9758 7.89971 29.2974 8.10138 29.6188 8.23914L30.4067 6.40085C30.346 6.37487 30.31 6.35318 30.2913 6.34016C30.2732 6.32747 30.2755 6.32584 30.2867 6.33966C30.2989 6.35479 30.3149 6.38007 30.3266 6.41365C30.3383 6.44701 30.3408 6.47405 30.3408 6.488H28.3408ZM29.6568 8.25449C30.189 8.45725 30.974 8.65155 31.9647 8.84539L32.3488 6.88261C31.3768 6.69245 30.7325 6.52408 30.3687 6.38551L29.6568 8.25449ZM31.9637 8.84519C33.2338 9.09504 34.2813 9.37149 35.1164 9.66974L35.7891 7.78626C34.8322 7.44451 33.6824 7.14496 32.3498 6.8828L31.9637 8.84519ZM35.1164 9.66974C35.8312 9.92504 36.4654 10.3696 37.0222 11.0342L38.5553 9.74978C37.7894 8.83573 36.8663 8.17096 35.7891 7.78626L35.1164 9.66974ZM37.031 11.0445C37.4889 11.5763 37.7808 12.3824 37.7808 13.592H39.7808C39.7808 12.0709 39.4112 10.7437 38.5465 9.73948L37.031 11.0445ZM37.7808 13.592C37.7808 14.4506 37.5365 15.2046 37.0431 15.885L38.6624 17.059C39.4064 16.0327 39.7808 14.8668 39.7808 13.592H37.7808ZM37.0431 15.885C36.5526 16.5616 35.818 17.1309 34.7789 17.5654L35.5506 19.4106C36.8581 18.8638 37.9156 18.089 38.6624 17.059L37.0431 15.885ZM34.7729 17.568C33.771 17.9947 32.5552 18.224 31.1008 18.224V20.224C32.761 20.224 34.2545 19.9626 35.5566 19.408L34.7729 17.568Z" fill="white" mask="url(#path-1-outside-1_75_550)"/>
                          </svg>
                          </div>
                      <div className="bg-white py-2 px-3 rounded-xl">{data.maxPlayers}</div>
              </div>
      </div>
      </div>
       <div className=" flex flex-col gap-1 py-3">
        <h3 className="text-lg font-semibold">{data.title}</h3>
        <p className="flex gap-2 font-medium text-[#49919C]"><img src="/date.svg" className="w-5" alt="date icon" /> {formatDate(data.dateTime)}</p>
        <p className="flex gap-2 font-medium text-[#49919C]"><img src="/clock.svg" className="w-5" alt="clock" /> {formattime(data.dateTime)} </p>

        </div>
      <div className="flex justify-between font-medium w-full">
      <button
        className={`mt-4 px-4 py-2 rounded-2xl bg-[#49919C] hover:bg-[#258898] text-white`}
      >
        Register
      </button>
        <div className=" mt-4 px-4 py-2 bg-gray-500 flex items-center justify-between gap-2 rounded-2xl"><img src="/duration.svg" className="w-5"/> <div className="text-white ">{data.duration} min</div></div>
      </div>
    </div>
    </Link>
  );
};

export default Card;
